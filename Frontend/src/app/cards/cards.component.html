<div (click)="openForm()" *ngIf="showAddOption; else content"
    class="rounded-md h-full bg-gray-300 hover:bg-gray-400 items-center justify-center flex flex-col cursor-pointer transition-all h-full">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="size-11">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>
    <p>Add new password</p>
</div>
<ng-template #content>
    <div class="group flex flex-col flex-1 hover:shadow-lg rounded-md overflow-hidden h-full">
        <div class="align-middle justify-center flex flex-grow bg-white py-4 group-hover:bg-slate-300 transition-all">
            <img *ngIf="parseFavicon(password.url)" [src]="parseFavicon(password.url)" class="min-w-8">
            <svg *ngIf="!parseFavicon(password.url)" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
            </svg>
        </div>
        <div class="bg-gray-800 group-hover:bg-gray-700 p-2 flex flex-row mt-auto items-center justify-between">
            <span class="w-1/2">
                <p class="text-sm text-white mb-0 truncate text-ellipsis">
                    {{password.name}}
                </p>
                <p class="text-xs text-white mb-0 truncate text-ellipsis">
                    {{password.username}}
                </p>
            </span>
            <span class="text-white hidden group-hover:flex flex-row justify-between gap-3">
                <button class="btn" (click)="openForm()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-6 cursor-pointer">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" />
                    </svg>
                </button>
                <button class="btn" (click)="copyInputMessage(password.password)">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-6 cursor-pointer">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
                    </svg>
                </button>
            </span>
        </div>
    </div>
</ng-template>
<app-form *ngIf="showForm" (closeModal)="closeModalAndRefresh($event)" [password]="password"></app-form>